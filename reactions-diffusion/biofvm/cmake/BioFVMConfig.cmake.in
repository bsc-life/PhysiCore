@PACKAGE_INIT@

include(CMakeFindDependencyMacro)

# For static builds, find all transitive dependencies
# For shared builds, dependencies are embedded in the shared library
if(NOT @BUILD_SHARED_LIBS@)
  # Core dependencies for main BioFVM library
  find_dependency(VTK CONFIG)
  find_dependency(pugixml CONFIG)

  # OpenMP solver dependencies
  find_dependency(OpenMP 4)
  find_dependency(hwy)

  # Thrust solver dependencies
  find_dependency(Thrust CONFIG)
  thrust_create_target(ThrustTBB HOST TBB DEVICE TBB)

  # CUDA solver dependencies (optional)
  if(@BIOFVM_HAS_CUDA@)
    find_dependency(CUDAToolkit 12)
    thrust_create_target(ThrustCUDA HOST TBB DEVICE CUDA)
  endif()
endif()

include("${CMAKE_CURRENT_LIST_DIR}/BioFVMTargets.cmake")
